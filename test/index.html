<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Ember Data Test Suite</title>
  <link rel="stylesheet" href="qunit/qunit.css" type="text/css" media="screen">
  <script type="text/javascript" src="qunit/qunit.js"></script>
  <script type="text/javascript" src="handlebars-1.0.0-rc.3.js"></script>
  <script type="text/javascript" src="minispade.js"></script>

  <script type="text/javascript" src="qunit_configuration.js"></script>
  <script type="text/javascript">
    window.loadScript = function(url) {
      document.write(unescape('%3Cscript src="'+url+'"%3E%3C/script%3E'));
    };
  </script>
</head>
<body>
  <h1 id="qunit-header">Ember Data Test Suite</h1>
  <h2 id="qunit-banner"></h2>
  <div id="qunit-testrunner-toolbar"></div>
  <h2 id="qunit-userAgent"></h2>
  <ol id="qunit-tests"></ol>
  <div id="qunit-fixture">test markup</div>

  <script>
    // Load jshint if being used (can cause failurs in old environments if always loaded)
    if (jsHint) {
      loadScript('jshint.js');
    }
    // Close the script tag to make sure document.write happens
  </script>

  <script>
    // Load custom version of jQuery if possible
    var jQueryMatch = location.search.match(/jquery=([^&]+)/),
        jQueryVersion = jQueryMatch ? jQueryMatch[1] : "1.8.2",
        url = 'http://ajax.googleapis.com/ajax/libs/jquery/'+jQueryVersion+'/jquery.js';

    if (jQueryVersion !== 'none') {
      loadScript(url);
    }
    // Close the script tag to make sure document.write happens
  </script>

  <script>
    // Fallback to default jQuery
    if (jQueryVersion !== 'none' && !window.jQuery) {
      if (console && console.warn) { console.warn("Unable to load jQuery "+jQueryVersion+". Using default."); }

      loadScript('jquery-1.8.2.js');
    }
  </script>

  <script type="text/javascript" src="ember_configuration.js"></script>

  <script>
    loadScript('../dist/modules/ember.js');
  </script>

  <script>
    // Load ember distribution from query vars
    var distMatch = location.search.match(/dist=([^&]+)/),
        dist = (distMatch && distMatch[1]) || 'build';

    var distros = {
      // spade:   'ember-data-spade.js',
      build:   'ember-date.js'
    };

    var emberFile = distros[dist];
    if (!emberFile) { throw 'Unknown dist'; }

    loadScript('../dist/'+emberFile);
    // Close the script tag to make sure document.write happens
  </script>

  <script type="text/javascript" src="units/date_test.js"></script>

</body>
</html>
